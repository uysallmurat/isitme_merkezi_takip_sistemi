{% load static %}
<!-- Yeni Hasta Ekleme Modal -->
<div id="newPatientModal" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2>
                <i class="fa-solid fa-user-plus"></i>
                Yeni Hasta Ekle
            </h2>
            <span class="close" onclick="closeNewPatientModal()">&times;</span>
        </div>
        <div class="modal-body">
                             <form id="newPatientForm">
                 {% csrf_token %}
                 
                 <!-- Temel Bilgiler -->
                 <div class="form-section">
                     <h3 class="section-title">Temel Bilgiler</h3>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="tcNumber">TC Kimlik No <span class="required">*</span></label>
                             <input type="text" id="tcNumber" name="tc_number" maxlength="11" required>
                         </div>
                         <div class="form-group">
                             <label for="firstName">Ad <span class="required">*</span></label>
                             <input type="text" id="firstName" name="first_name" required>
                         </div>
                     </div>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="lastName">Soyad <span class="required">*</span></label>
                             <input type="text" id="lastName" name="last_name" required>
                         </div>
                         <div class="form-group">
                             <label for="birthDate">Doğum Tarihi <span class="required">*</span></label>
                             <input type="date" id="birthDate" name="birth_date" required>
                         </div>
                     </div>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="gender">Cinsiyet <span class="required">*</span></label>
                             <select id="gender" name="gender" required>
                                 <option value="">Seçin...</option>
                                 <option value="M">Erkek</option>
                                 <option value="F">Kadın</option>
                             </select>
                         </div>
                         <div class="form-group">
                             <label for="occupation">Meslek</label>
                             <input type="text" id="occupation" name="occupation">
                         </div>
                     </div>
                 </div>
                 
                 <!-- İletişim Bilgileri -->
                 <div class="form-section">
                     <h3 class="section-title">İletişim Bilgileri</h3>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="phone">Telefon <span class="required">*</span></label>
                             <input type="tel" id="phone" name="phone" required>
                         </div>
                         <div class="form-group">
                             <label for="email">E-posta</label>
                             <input type="email" id="email" name="email">
                         </div>
                     </div>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="city">Şehir</label>
                             <input type="text" id="city" name="city">
                         </div>
                         <div class="form-group">
                             <label for="district">İlçe</label>
                             <input type="text" id="district" name="district">
                         </div>
                     </div>
                     <div class="form-group">
                         <label for="address">Adres</label>
                         <textarea id="address" name="address" rows="3"></textarea>
                     </div>
                 </div>
                 
                 <!-- Tıbbi Bilgiler -->
                 <div class="form-section">
                     <h3 class="section-title">Tıbbi Bilgiler</h3>
                     <div class="form-group">
                         <label for="medicalHistory">Tıbbi Geçmiş</label>
                         <textarea id="medicalHistory" name="medical_history" rows="3"></textarea>
                     </div>
                     <div class="form-group">
                         <label for="allergies">Alerjiler</label>
                         <textarea id="allergies" name="allergies" rows="2"></textarea>
                     </div>
                     <div class="form-group">
                         <label for="currentMedications">Mevcut İlaçlar</label>
                         <textarea id="currentMedications" name="current_medications" rows="2"></textarea>
                     </div>
                 </div>
                 
                 <!-- Acil Durum Bilgileri -->
                 <div class="form-section">
                     <h3 class="section-title">Acil Durum Bilgileri</h3>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="emergencyContact">Acil Durum İletişim Kişisi</label>
                             <input type="text" id="emergencyContact" name="emergency_contact">
                         </div>
                         <div class="form-group">
                             <label for="emergencyPhone">Acil Durum Telefonu</label>
                             <input type="tel" id="emergencyPhone" name="emergency_phone">
                         </div>
                     </div>
                 </div>
                 
                 <!-- İşitme Cihazı Bilgileri -->
                 <div class="form-section">
                     <h3 class="section-title">İşitme Cihazı Bilgileri</h3>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="hearingAidType">İşitme Cihazı Türü</label>
                             <select id="hearingAidType" name="hearing_aid_type">
                                 <option value="">Seçin...</option>
                                 <option value="BTE">BTE (Kulak Arkası)</option>
                                 <option value="ITE">ITE (Kulak İçi)</option>
                                 <option value="ITC">ITC (Kulak Kanalı)</option>
                                 <option value="CIC">CIC (Tam Gizli)</option>
                                 <option value="RIC">RIC (Kulak Arkası Açık)</option>
                                 <option value="None">Kullanmıyor</option>
                             </select>
                         </div>
                         <div class="form-group">
                             <label for="hearingAidBrand">Marka</label>
                             <input type="text" id="hearingAidBrand" name="hearing_aid_brand">
                         </div>
                     </div>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="hearingAidModel">Model</label>
                             <input type="text" id="hearingAidModel" name="hearing_aid_model">
                         </div>
                         <div class="form-group">
                             <label for="hearingAidSerial">Seri No</label>
                             <input type="text" id="hearingAidSerial" name="hearing_aid_serial">
                         </div>
                     </div>
                 </div>
                 
                 <!-- Sosyal Bilgiler -->
                 <div class="form-section">
                     <h3 class="section-title">Sosyal Bilgiler</h3>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="insuranceProvider">Sigorta Sağlayıcısı</label>
                             <input type="text" id="insuranceProvider" name="insurance_provider">
                         </div>
                         <div class="form-group">
                             <label for="insuranceNumber">Sigorta Numarası</label>
                             <input type="text" id="insuranceNumber" name="insurance_number">
                         </div>
                     </div>
                     <div class="form-group">
                         <label for="referringDoctor">Sevk Eden Doktor</label>
                         <input type="text" id="referringDoctor" name="referring_doctor">
                     </div>
                 </div>
                 
                 <!-- Genel Bilgiler -->
                 <div class="form-section">
                     <h3 class="section-title">Genel Bilgiler</h3>
                     <div class="form-group">
                         <label for="notes">Notlar</label>
                         <textarea id="notes" name="notes" rows="3"></textarea>
                     </div>
                     <div class="form-group">
                         <label for="status">Durum <span class="required">*</span></label>
                         <select id="status" name="status" required>
                             <option value="">Seçin...</option>
                             <option value="active" selected>Aktif</option>
                             <option value="inactive">Pasif</option>
                         </select>
                     </div>
                 </div>
                <div class="form-actions">
                    <button type="button" onclick="closeNewPatientModal()" class="btn-secondary">
                        <i class="fa-solid fa-times"></i>
                        İptal
                    </button>
                    <button type="submit" class="btn-primary">
                        <i class="fa-solid fa-save"></i>
                        Kaydet
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Hasta Düzenleme Modal -->
<div id="editPatientModal" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2><i class="fa-solid fa-edit"></i> Hasta Düzenle</h2>
            <span class="close" onclick="closeEditPatientModal()">&times;</span>
        </div>
        <div class="modal-body">
            <form id="editPatientForm">
                {% csrf_token %}
                <input type="hidden" id="editPatientId" name="patient_id">
                
                 <!-- Temel Bilgiler -->
                 <div class="form-section">
                     <h3 class="section-title">Temel Bilgiler</h3>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="editTcNumber">TC Kimlik No <span class="required">*</span></label>
                             <input type="text" id="editTcNumber" name="tc_number" maxlength="11" required>
                         </div>
                         <div class="form-group">
                             <label for="editFirstName">Ad <span class="required">*</span></label>
                             <input type="text" id="editFirstName" name="first_name" required>
                         </div>
                     </div>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="editLastName">Soyad <span class="required">*</span></label>
                             <input type="text" id="editLastName" name="last_name" required>
                         </div>
                         <div class="form-group">
                             <label for="editBirthDate">Doğum Tarihi <span class="required">*</span></label>
                             <input type="date" id="editBirthDate" name="birth_date" required>
                         </div>
                     </div>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="editGender">Cinsiyet <span class="required">*</span></label>
                             <select id="editGender" name="gender" required>
                                 <option value="">Seçin...</option>
                                 <option value="M">Erkek</option>
                                 <option value="F">Kadın</option>
                             </select>
                         </div>
                         <div class="form-group">
                             <label for="editOccupation">Meslek</label>
                             <input type="text" id="editOccupation" name="occupation">
                         </div>
                     </div>
                 </div>
                 
                 <!-- İletişim Bilgileri -->
                 <div class="form-section">
                     <h3 class="section-title">İletişim Bilgileri</h3>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="editPhone">Telefon <span class="required">*</span></label>
                             <input type="tel" id="editPhone" name="phone" required>
                         </div>
                         <div class="form-group">
                             <label for="editEmail">E-posta</label>
                             <input type="email" id="editEmail" name="email">
                         </div>
                     </div>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="editCity">Şehir</label>
                             <input type="text" id="editCity" name="city">
                         </div>
                         <div class="form-group">
                             <label for="editDistrict">İlçe</label>
                             <input type="text" id="editDistrict" name="district">
                         </div>
                     </div>
                     <div class="form-group">
                         <label for="editAddress">Adres</label>
                         <textarea id="editAddress" name="address" rows="3"></textarea>
                     </div>
                 </div>
                 
                 <!-- Tıbbi Bilgiler -->
                 <div class="form-section">
                     <h3 class="section-title">Tıbbi Bilgiler</h3>
                     <div class="form-group">
                         <label for="editMedicalHistory">Tıbbi Geçmiş</label>
                         <textarea id="editMedicalHistory" name="medical_history" rows="3"></textarea>
                     </div>
                     <div class="form-group">
                         <label for="editAllergies">Alerjiler</label>
                         <textarea id="editAllergies" name="allergies" rows="2"></textarea>
                     </div>
                     <div class="form-group">
                         <label for="editCurrentMedications">Mevcut İlaçlar</label>
                         <textarea id="editCurrentMedications" name="current_medications" rows="2"></textarea>
                     </div>
                 </div>
                 
                 <!-- Acil Durum Bilgileri -->
                 <div class="form-section">
                     <h3 class="section-title">Acil Durum Bilgileri</h3>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="editEmergencyContact">Acil Durum İletişim Kişisi</label>
                             <input type="text" id="editEmergencyContact" name="emergency_contact">
                         </div>
                         <div class="form-group">
                             <label for="editEmergencyPhone">Acil Durum Telefonu</label>
                             <input type="tel" id="editEmergencyPhone" name="emergency_phone">
                         </div>
                     </div>
                 </div>
                 
                 <!-- İşitme Cihazı Bilgileri -->
                 <div class="form-section">
                     <h3 class="section-title">İşitme Cihazı Bilgileri</h3>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="editHearingAidType">İşitme Cihazı Türü</label>
                             <select id="editHearingAidType" name="hearing_aid_type">
                                 <option value="">Seçin...</option>
                                 <option value="BTE">BTE (Kulak Arkası)</option>
                                 <option value="ITE">ITE (Kulak İçi)</option>
                                 <option value="ITC">ITC (Kulak Kanalı)</option>
                                 <option value="CIC">CIC (Tam Gizli)</option>
                                 <option value="RIC">RIC (Kulak Arkası Açık)</option>
                                 <option value="None">Kullanmıyor</option>
                             </select>
                         </div>
                         <div class="form-group">
                             <label for="editHearingAidBrand">Marka</label>
                             <input type="text" id="editHearingAidBrand" name="hearing_aid_brand">
                         </div>
                     </div>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="editHearingAidModel">Model</label>
                             <input type="text" id="editHearingAidModel" name="hearing_aid_model">
                         </div>
                         <div class="form-group">
                             <label for="editHearingAidSerial">Seri No</label>
                             <input type="text" id="editHearingAidSerial" name="hearing_aid_serial">
                         </div>
                     </div>
                 </div>
                 
                 <!-- Sosyal Bilgiler -->
                 <div class="form-section">
                     <h3 class="section-title">Sosyal Bilgiler</h3>
                     <div class="form-row">
                         <div class="form-group">
                             <label for="editInsuranceProvider">Sigorta Sağlayıcısı</label>
                             <input type="text" id="editInsuranceProvider" name="insurance_provider">
                         </div>
                         <div class="form-group">
                             <label for="editInsuranceNumber">Sigorta Numarası</label>
                             <input type="text" id="editInsuranceNumber" name="insurance_number">
                         </div>
                     </div>
                     <div class="form-group">
                         <label for="editReferringDoctor">Sevk Eden Doktor</label>
                         <input type="text" id="editReferringDoctor" name="referring_doctor">
                     </div>
                 </div>
                 
                 <!-- Genel Bilgiler -->
                 <div class="form-section">
                     <h3 class="section-title">Genel Bilgiler</h3>
                     <div class="form-group">
                         <label for="editNotes">Notlar</label>
                         <textarea id="editNotes" name="notes" rows="3"></textarea>
                     </div>
                     <div class="form-group">
                         <label for="editStatus">Durum <span class="required">*</span></label>
                         <select id="editStatus" name="status" required>
                             <option value="">Seçin...</option>
                             <option value="active">Aktif</option>
                             <option value="inactive">Pasif</option>
                         </select>
                     </div>
                 </div>
                
                <div class="form-actions">
                    <button type="button" onclick="closeEditPatientModal()" class="btn-secondary">İptal</button>
                    <button type="submit" class="btn-primary">Güncelle</button>
                </div>
            </form>
        </div>
    </div>
</div>
</body>